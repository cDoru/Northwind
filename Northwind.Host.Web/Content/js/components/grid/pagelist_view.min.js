Northwind.Common.Components.Grid.PageListView=Ember.ContainerView.extend({tagName:"ul",classNames:["pagination","pagination-sm"],pages:[],visiblePages:3,firstPageView:Ember.View.extend({tagName:"li",classNameBindings:["parentView.hasFirstPage::disabled"],template:Ember.Handlebars.compile('<a href="javascript:void(0);" {{action firstPage target="view.parentView"}}>&laquo;</a>')}),prevPageView:Ember.View.extend({tagName:"li",classNameBindings:["parentView.hasPreviousPage::disabled"],template:Ember.Handlebars.compile('<a href="javascript:void(0);" {{action prevPage target="view.parentView"}}>&lsaquo;</a>')}),pageView:Ember.View.extend({tagName:"li",classNameBindings:["content.isActive:active"],template:Ember.Handlebars.compile('<a href="javascript:void(0);" {{action setPage view.content target="view.parentView"}}>{{view.content.page}}</a>')}),nextPageView:Ember.View.extend({tagName:"li",classNameBindings:["parentView.hasNextPage::disabled"],template:Ember.Handlebars.compile('<a href="javascript:void(0);" {{action nextPage target="view.parentView"}}>&rsaquo;</a>')}),lastPageView:Ember.View.extend({tagName:"li",classNameBindings:["parentView.hasLastPage::disabled"],template:Ember.Handlebars.compile('<a href="javascript:void(0);" {{action lastPage target="view.parentView"}}>&raquo;</a>')}),refreshPageListItems:function(){var a=this.get("pages");if(!a.get("length"))return;this.clear(),this.pushObject(this.get("firstPageView").create()),this.pushObject(this.get("prevPageView").create());var b=this;this.get("pages").forEach(function(a){var c=b.get("pageView").create({content:a});b.pushObject(c)}),this.pushObject(this.get("nextPageView").create()),this.pushObject(this.get("lastPageView").create())}.observes("pages"),createPages:function(){if(!this.get("controller"))return[];var a=this.get("controller.page"),b=this.get("controller.pages"),c=Math.max(0,a-this.visiblePages),d=Math.min(b,a+this.visiblePages+1),e=this.get("controller.limit"),b=[];for(var f=c;f<d;f++)b.push({index:f,page:f+1,isActive:f==a});this.set("pages",b)},didControllerContentChanged:function(){this.createPages();var a=this.get("controller.pages"),b=this.get("controller.page");this.set("pagesCount",a),this.set("hasNextPage",b+1<a),this.set("hasPreviousPage",b>0),this.set("hasFirstPage",b>0),this.set("hasLastPage",b+1<a)}.observes("controller.offset","controller.pages","controller.page").on("init"),actions:{setPage:function(a){this.get("controller").set("page",a.index)},firstPage:function(){if(!this.get("hasFirstPage"))return;this.get("controller").firstPage()},lastPage:function(){if(!this.get("hasLastPage"))return;this.get("controller").lastPage()},prevPage:function(){if(!this.get("hasPreviousPage"))return;this.get("controller").previousPage()},nextPage:function(){if(!this.get("hasNextPage"))return;this.get("controller").nextPage()}},init:function(){this._super(),this.refreshPageListItems()}})