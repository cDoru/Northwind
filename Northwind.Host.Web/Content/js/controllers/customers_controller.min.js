Northwind.CustomersController=Northwind.Common.Components.Grid.GridController.extend({contentLoaded:!1,loadMetadata:function(){if(!this.get("contentLoaded"))return;var a=this.get("model"),b=this.get("store").metadataFor(a.type);console.dir(a);if(b){var c=Ember.Object.create({offset:b.offset,limit:b.limit,totalCount:b.totalCount,links:Ember.makeArray()});if(b.links)for(var d in b.links){var e=Ember.Object.create(Northwind.uriUtils.parseQueryParams(b.links[d]));e.set("rel",d),c.links.pushObject(e)}this.set("metadata",c),this.set("limit",c.limit),this.set("totalCount",c.totalCount)}}.observes("contentLoaded"),refresh:function(){var a=this.get("offset"),b=this.get("limit"),c=this;c.set("contentLoaded",!1),this.get("store").findQuery("customer",{offset:a,limit:b}).then(function(a){c.set("content",a),c.set("contentLoaded",!0)})}.observes("page"),columns:[Northwind.Common.Components.Grid.column("id",{formatter:"{{#link-to 'customer' view.content}}{{view.content.id}}{{/link-to}}"}),Northwind.Common.Components.Grid.column("contactName"),Northwind.Common.Components.Grid.column("companyName"),Northwind.Common.Components.Grid.column("contactTitle")]})