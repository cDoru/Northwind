Northwind.ArrayController=Northwind.Common.Components.Grid.GridController.extend({contentLoaded:!1,modelType:Ember.computed(function(){var a=this.get("model");return a.type}),loadMetadata:function(){if(!this.get("contentLoaded"))return;var a=this.get("model"),b=this.get("store").metadataFor(a.type);if(b){var c=Ember.Object.create({offset:b.offset,limit:b.limit,totalCount:b.totalCount,links:Ember.makeArray()});if(b.links)for(var d in b.links){var e=Ember.Object.create(Northwind.Common.Uri.queryParams(b.links[d]));e.set("rel",d),c.links.pushObject(e)}this.set("metadata",c),this.set("limit",c.limit),this.set("totalCount",c.totalCount)}}.observes("contentLoaded"),refresh:function(){var a=this.get("offset"),b=this.get("limit"),c=this.get("modelType"),d=this;d.set("contentLoaded",!1),this.get("store").findQuery(c,{offset:a,limit:b}).then(function(a){d.set("model",a),d.set("contentLoaded",!0)})}.observes("page")})